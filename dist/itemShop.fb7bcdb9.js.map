{"mappings":"0nBAAA,IAAAA,EAAAC,EAAA,mCAIA,SAASC,EAASC,EAAIC,GACdC,EAAAC,mBAAmBF,GAAOG,IAEtB,GAAIA,EAAM,CACN,MAAMC,EAAMD,EAAKC,IAEjBR,EAAAS,OAAOT,EAAAU,IAAIP,EAAI,QAASK,IAAMG,MAAMC,IAEhC,MAAMC,EAASD,EAAQE,OAEvBC,QAAQC,IAAIH,EAAOI,OAEhBJ,EAAOI,MAENC,OAAOC,SAASC,KAAO,kBAMvBC,MAAM,6CAOdA,MAAM","sources":["src/specs/addProductsValidation.js"],"sourcesContent":["import { doc, onSnapshot, getDoc } from \"firebase/firestore\";\r\nimport { getAuth, signOut, onAuthStateChanged } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nfunction validate(db, auth){\r\n        onAuthStateChanged(auth, (user) => {\r\n    \r\n            if (user) {\r\n                const uid = user.uid;\r\n                \r\n                getDoc(doc(db, \"users\", uid)).then((docSnap) => {\r\n    \r\n                    const result = docSnap.data();\r\n    \r\n                    console.log(result.admin);\r\n    \r\n                    if(result.admin){\r\n    \r\n                        window.location.href = \"./addItems.html\"\r\n    \r\n                    }\r\n    \r\n                    else{\r\n    \r\n                        alert(\"Only administrators can add items\");\r\n    \r\n                    }\r\n                });\r\n    \r\n            } else {\r\n              \r\n                alert(\"Only administrators can add items\");\r\n          \r\n            }\r\n          });\r\n\r\n}\r\n\r\nexport{\r\n\r\n    validate\r\n\r\n}\r\n\r\n"],"names":["$etBjH","parcelRequire","$996580fb962496ec$export$a22775fa5e2eebd9","db","auth","$1tHc5","onAuthStateChanged","user","uid","getDoc","doc","then","docSnap","result","data","console","log","admin","window","location","href","alert"],"version":3,"file":"itemShop.fb7bcdb9.js.map"}