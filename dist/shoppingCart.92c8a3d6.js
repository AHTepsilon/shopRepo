function t(t,e,r,a){Object.defineProperty(t,e,{get:r,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=e.parcelRequire8ba2;null==n&&((n=function(t){if(t in r)return r[t].exports;if(t in a){var e=a[t];delete a[t];var n={id:t,exports:{}};return r[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequire8ba2=n),n.register("7tOtO",(function(e,r){t(e.exports,"getItems",(()=>g)),t(e.exports,"displayItems",(()=>f)),t(e.exports,"addToCart",(()=>b)),t(e.exports,"getCart",(()=>_));var a=n("etBjH"),o=n("bdlMF"),c=n("1tHc5"),i=n("bQjlg");n("fXOuZ");var s=n("cblOc");let d,u;const l=a.getFirestore(i.app),p=c.getAuth();async function g(t){try{return await s.fetchItems(t)}catch(t){}}function f(t,e,r){const a=document.createElement("a");a.className="product",a.setAttribute("href",`./product.html?id=${t.id}`);const n=t.images?t.images[0]:"https://www.unfe.org/wp-content/uploads/2019/04/SM-placeholder-1024x512.png";e.length>0&&(d=e.some((e=>{e.id,t.id})));const c=d?'<button class="add_cart_button" id="add_cart_button">Product added to cart</button>':'<button class="add_cart_button" id="add_cart_button">Add to cart</button>';a.innerHTML=`\n    \n    <div class="section__new_deals_div_product_showcase_text_itemshop">\n    <h2 class="product_price" id="product_price">${t.price}.00$</h2>\n    <p class="product_name" id="product_name">${t.nameValue}</p>\n    </div>\n    <img src="${n}" alt="product_pic" class="product_image guitarPhoto" id="product_image">\n    ${c}\n\n    `,r.appendChild(a);const i=a.querySelector(".add_cart_button");i.addEventListener("click",(async r=>{r.preventDefault(),console.log(r),e.push(t),b(e),u&&await o.createFirebaseCart(l,u.uid,e),i.setAttribute("disabled",!0),i.innerHTML="Product added",console.log(u)}))}async function b(t){localStorage.setItem("cart",JSON.stringify(t))}function _(){const t=localStorage.getItem("cart");return t?JSON.parse(t):[]}c.onAuthStateChanged(p,(async t=>{t?(u=t,cart=await o.getFirebaseCart(l,u.uid)):cart=_(),g()}))})),n.register("cblOc",(function(e,r){t(e.exports,"fetchItems",(()=>c)),n("1tHc5");var a=n("bQjlg");a=n("bQjlg");n("fXOuZ");var o=n("etBjH");o=n("etBjH");(o=n("etBjH")).getFirestore(a.app);async function c(t){try{const e=o.collection(t,"items"),{docs:r}=await o.getDocs(e);return r.map((t=>({...t.data()})))}catch(t){console.log(t)}}}));
//# sourceMappingURL=shoppingCart.92c8a3d6.js.map
