function t(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=e.parcelRequire8ba2;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){o[t]=e},e.parcelRequire8ba2=r),r.register("7tOtO",(function(e,n){t(e.exports,"getItems",(()=>f)),t(e.exports,"displayItems",(()=>b)),t(e.exports,"addToCart",(()=>_)),t(e.exports,"getCart",(()=>m));var o=r("etBjH"),a=r("bdlMF"),c=r("1tHc5"),i=r("bQjlg"),s=r("cblOc");let d,l;const u=o.getFirestore(i.app),p=c.getAuth();let g=[];async function f(t){try{return await s.fetchItems(t)}catch(t){}}function b(t,e,n){const o=document.createElement("a");o.className="product",o.setAttribute("href",`./product.html?id=${t.id}`);const r=t.images?t.images[0]:"https://www.unfe.org/wp-content/uploads/2019/04/SM-placeholder-1024x512.png";e.length>0&&(d=e.some((e=>{e.id,t.id})));const c=d?'<button class="add_cart_button" id="add_cart_button">Product added to cart</button>':'<button class="add_cart_button" id="add_cart_button">Add to cart</button>';o.innerHTML=`\n    \n    <div class="section__new_deals_div_product_showcase_text_itemshop">\n    <h2 class="product_price" id="product_price">${t.price}.00$</h2>\n    <p class="product_name" id="product_name">${t.nameValue}</p>\n    </div>\n    <img src="${r}" alt="product_pic" class="product_image guitarPhoto" id="product_image">\n    ${c}\n\n    `,n.appendChild(o);const i=o.querySelector(".add_cart_button");i.addEventListener("click",(async n=>{n.preventDefault(),console.log(n),e.push(t),_(e),l&&await a.createFirebaseCart(u,l.uid,e),i.setAttribute("disabled",!0),i.innerHTML="Product added",console.log(l)}))}async function _(t){localStorage.setItem("cart",JSON.stringify(t))}function m(){const t=localStorage.getItem("cart");return t?JSON.parse(t):[]}c.onAuthStateChanged(p,(async t=>{t?(l=t,g=await a.getFirebaseCart(u,l.uid)):g=m(),f()}))})),r.register("cblOc",(function(e,n){t(e.exports,"fetchItems",(()=>c)),r("1tHc5");var o=r("bQjlg");o=r("bQjlg");r("fXOuZ");var a=r("etBjH");a=r("etBjH");(a=r("etBjH")).getFirestore(o.app);async function c(t){try{const e=a.collection(t,"items"),{docs:n}=await a.getDocs(e);return n.map((t=>({...t.data()})))}catch(t){console.log(t)}}}));
//# sourceMappingURL=shoppingCart.115be461.js.map
